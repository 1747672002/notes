# PHP常见面试问题记录

## 参考网站

> https://blog.csdn.net/weixin_43243070/article/details/86058624



## 1. WEB开发中数据提交有几种方式，有什么区别？

> `GET`和`POST`两种方式
>
> 区别：
>
> 1. URL可见性：GET方式URL参数可见，POST不可见
> 2. 传输方式上：GET通过URL地址栏拼接参数进行传递；POST方式通过body体进行传输
> 3. 可缓存性：GET方式是可以缓存的，POST方式不可缓存
> 4. 传输数据大小：GET一般传输的数据大小是2k-4k（根据浏览器不同，限制不一样，但相差不大）；POST请求传输数据的大小根据`php.ini`配置文件设定，也可以无限大
>
> 建议：
>
> 1. GET方式安全性较POST方式要差些，包含机密信息的提交，建议使用POST方式提交
> 2. 做数据查询建议使用GET方式；做数据添加、修改、删除建议使用POST方式



## 2. AJAX的优势是什么

> `ajax`是异步传输技术，通过`JavaScript`实现，也可以通过`JQuery`框架实现。
>
> `ajax`主要是用来实现局部刷新，减轻服务器压力、提高用户体验



## 3. 开发中应该注意哪些安全机制

> 1. 使用验证码防止注册机批量批量注册
> 2. 对表单提交来源做限制，方式通过程序对网站灌水攻击；还要防止从外部其它地方的非法表单提交
> 3. 使用预处理、参数绑定、参数过滤转义等方式，防止SQL注入



## 4. 在程序开发中，如何提高程序的运行效率

> 1. 优化SQL查询语句，查询语句中尽量不要使用`select *`，需要什么字段，查询什么字段；少用子查询，可以使用表连接代替；少用模糊查询
> 2. 数据表中创建合适的索引
> 3. 对程序中使用频率高、变动小的数据生成缓存（比如使用redis缓存数据，或者使用缓存查询）
> 4. 使用`Nginx`做负载均衡（将访问压力平均分配到多台服务器）



## 5. MVC分别指哪三层，有什么优点

> `MVC`三层分别指：M-模型层，V-视图层，C-控制器层
>
> 由控制器层调用模型层处理数据，然后将数据映射到视图层进行显示
>
> 优点：
>
> 1. 可以实现代码的重用性，避免产生大量的重复代码；
> 2. M层和V层的分离，从而使同一个程序可以适用不同的表现形式



## 6. 对JSON数据格式的理解

> JSON（JavaScript Object Notaion）是一种轻量级的数据交换方式，JSON数据格式固定，可以被多种语言识别并用作数据的传输
>
> PHP中的处理函数：
>
> > **json_decode(string $json[, bool $assoc]) : **接受一个JSON格式的字符串，并把它转换为PHP变量。参数`$json`是待解码的json_string格式的字符串；参数`$assoc`当参数为`TRUE`时，将返回一个Array而非Object
> >
> > **json_encode() : **将PHP变量转换为JSON格式，成功返回`TRUE`，失败返回`FALSE`



## 7. print、echo、print_r()、var_dump()分别有什么区别

> 1. `echo`和`print`都可以用来输出字符串，但它们都不是函数，而是一种`语言结构`，所以可以不使用括号
>
> 区别：
>
> 1. echo 函数可以输出一个或多个字符串，多个参数使用`,`逗号进行间隔，而print不可以
> 2. echo输出没有返回值，print则总是返回1，所以相对而言，echo会比print更快
> 3. print_r()函数的主要作用是，以人类易于理解的格式显示一个变量，打印数组，对象等复杂数据类型，通常可以用于调试
> 4. print_r()`和`var_dump()`的区别：
>   1. `print_r()`函数的只能输出一个值，而`var_dump()`可以一次输出多个变量
>   2. `print_r()`函数的第二个参数如果设置为`TRUE`，将把结果返回而不是输出，而`var_dump()`函数没有返回值



## 8. *SESSION 和 COOKIE 的区别，有什么联系

> **区别：**
>
> > **存储位置：**`session`存储在服务器，`cookie`存储在客户端
> >
> > **安全性：**`session`的安全性高于`cookie`
> >
> > **使用方式：**`session`在服务端使用时，需要开启服务；`cookie`不需要

> **联系：**
>
> > `session`在使用过程时，需要在客户端保存一个标识，需要借助到`cookie`，会在客户端通过`cookie`保存一个唯一变量`PHPSESSID`，所以，如果客户端禁用了`cookie`，那`session`的使用就会出问题，需要通过别的方式来实现，例如通过`URL`参数的方式、让PHP自动跨页传递sessionID等一些方式



## 9. 完整性约束包含哪些

> 数据完整性（Data Integrity）是指数据的`精确性(Accuracy)`和`可靠性(Reliability)`
>
> 包括：
>
> 1. 实体完整性：规定表的每一行在表中是唯一的实体
> 2. 域完整性：是指表中的列必须满足某种特定的数据类型约束，其中约束又包括取值范围、精度等规定
> 3. 参照完整性：是指两个表的关键字和外关键字的数据应一致，保证了表之间的数据一致性，防止了数据丢失或无意义的数据在数据库中扩散
> 4. 用户定义的完整性：不同的关系数据库系统根据其应用环境的不同，往往还需要一些特殊的约束条件。用户定义的完整性即是针对某个特定关系数据库的约束条件，它反映某一具体应用必须满足的语义要求



## 10. 什么是事务？及其特性

> **事务：**是一系列的数据库操作，是数据库应用的基本逻辑单位
>
> **特性：**
>
> 1. 原子性：即不可分割性，事务要么全部被执行，要么全部不被执行
> 2. 一致性或可串性：事务的执行使得数据库从一种正确状态转换成另一种正确的状态
> 3. 隔离性：在事务正确提交之前，不允许把该事务对数据的任何改变提供给其他任何事务
> 4. 持久性：事务正确提交后，其结果将永久保存在数据库，及时在事务提交后有了其他故障，事务的处理结果也会得到保存
>
> **简单理解：在事务的操作中，要么全部成功，要么全部失败**



## 11. 什么是锁

> 数据库是一个多用户使用的共享资源，当多个用户并发地存取数据时，在数据库中就会产生多个事务同时存取同一条数据的情况。若对并发操作不加控制就可能会造成读取和存储不正确的数据，破坏数据库的一致性。
>
> 加锁是实现数据库并发控制的一个非常重要的技术，当事务在对某个数据对象进行操作前，先向系统发出请求，对其加锁。加锁后事务就对该数据对象有了一定的控制，在该事物释放锁之前，其他事务不能对此数据对象进行更新操作。
>
> 基本锁类型：行级锁和表级锁



## 12. 什么是存储过程？用什么来调用

> 存储过程时一个预编译的SQL语句，优点是允许模块化的设计，就是说只需要创建一次，以后再该程序中就可以调用多次。如果某次操作需要执行多次SQL，使用存储过程比较单纯SQL语句执行要快。可以用一个命令对象来调用存储过程。



## 13. 索引的作用？和它的优点和缺点是什么？

> 索引是一种特殊的查询表，数据库的搜索引擎可以利用它加速对数据的检索。它很类似于现实生活中书的目录，不需要查询整本书的内容就可以找到想要的数据。
>
> 索引是唯一的，创建索引允许指定单个列或者多个列
>
> 缺点是它见面了数据录入的速度，同时也增加了数据库的大小



## 14. 主键、外键、索引的区别

> **定义：**
>
> 主键：唯一表示，不能有重复，不允许为空
>
> 外键：表的外键是另一表的主键，外键可以有重复的，可以是空值
>
> 索引：该字段没有重复值，但可以有一个空值
>
> **作用：**
>
> 主键：用来保证数据的完整性和唯一性
>
> 外键：用来和其他表建立联系
>
> 索引：用来提高查询排序的速度
>
> **个数：**
>
> 主键：主键只能有一个
>
> 外键：一个表可有多个外键
>
> 索引：一个表可以有多个唯一索引



## 15. 说说对SQL语句优化有哪些方法

> 1. where子句中：where表之间的联系必须写在其他where条件之前，那些可以过滤掉最大数量记录的条件必须卸载where子句的末尾
> 2. 用`exists`代替`in`，用`not exists`代替`not in`
> 3. 避免在索引列上使用计算
> 4. 避免在索引列上使用`is null`和`not null`
> 5. 对查询语句的优化，应尽量避免全表扫描，首先考虑在`where`及`order by`涉及的列上建立索引
> 6. 应尽量避免在`where`子句中对字段进行`null`判断，否则将导致引擎放弃使用索引而进行全表扫描
> 7. 应避免在`where`子句中对字段进行表达式操作，这将导致 引擎放弃使用索引而进行全表扫描
>
> 



## 16. char和varchar的区别

> `char`是一种固定长度的类型，`varchar`则是一种可变长度的类型
>
> **区别：**
>
> `char`类型的数据列里，每个值都占用M字节，如果某个长度小于M，MySQL就会在它的右边用空格字符补足（在索引操作中，那些填补出来的空格字符会被去掉）
>
> `varchar`类型的数据列里，每个值只占用刚好够用的字节在加上一个用来记录其长度的字节（即，总长度为L+1字节）



## 17. MySQL的存储引擎 MyISAM和InnoDB得区别

> `MyISAM`是非事务的存储引擎；适合用于频繁查询的应用；表锁，不会出现死锁；不支持实物。适合小数据，小并发
>
> `InnoDB`是支持事务的存储引擎；适合于插入和更新操作比较多的应用；设计合理的话是行锁（最大区别就在锁的级别上）；适合大数据，大并发



## 18. 数据表的类型有哪些

> `MyISAM`、`InnoDB`、`HEAP`、`BOB`、`ARCHIVE`、`CSV`等
>
> `MyISAM`：成熟、稳定、易于管理，快速读取，表级锁。但不支持事务等操作
>
> `InnoDB`：支持事务、外键等特性，数据行锁定。空间占用大，不支持全文索引



## 19. MySQL数据库做发布系统的存储，一天五万条以上的增量，预计运维三年，怎么优化

> 1. 设计良好的数据库结构，允许部分数据冗余，尽量避免`join`查询，提高效率
> 2. 选择合适的表字段数据类型和存储引擎，适当的添加索引
> 3. 做`MySQL`主从复制读写分离
> 4. 对数据表进行分表，减少单表中的数据量提高查询速度
> 5. 添加缓存机制，比如`redis`、`memcached`等
> 6. 对不经常改动的页面，生成静态页面（比如做ob缓存）
> 7. 书写高效率的SQL。比如`select * from table`改为`seelct field_1, field_2 from table`



## 20. 对于大流量的网站，采用什么样的方法来解决个页面访问统计问题

> 1. 确认服务器是否能支撑当前访问量
> 2. 优化数据库访问
> 3. 禁止外部访问链接（盗链），比如图片盗链
> 4. 控制文件下载
> 5. 做负载均衡，使用不同主机分流
> 6. 使用浏览统计软件，了解访问量，有针对性的进行优化



## 21. 什么是面向对象

> 面向对象是一种思想，是基于面向过程而言的，就是说面向对象是将功能等通过对象的方式来实现，将功能封装进对象之中，让对象去实现具体的细节
>
> 面向独享的三大特征：`封装`、`继承`、`多态`



## 22. 简述private、protected、public修饰符的访问权限

> private：私有成员，在类的内容才可以访问
>
> protected：保护成员，该类的内容和继承类中可以访问
>
> public：共有成员，完全公开，没有访问限制



## 23. 抽象类和接口的概念以及区别

> 抽象类：是一种特殊的，不能被实例化的类，只能作为其它类的父类使用，使用`abstract`关键字声明
>
> 接口类：是一种特殊的抽象类，也是一个特殊的类，使用`interface`关键字声明
>
> **区别：**
>
> 1. 抽象类的操作通过集成关键字`extends`实现，而接口的使用是通过`implements`关键字来实现的
> 2. 抽象类中有数据成员，可以实现数据的封装，但是接口没有数据成员
> 3. 抽象类中可以有构造方法，但是接口没有构造方法
> 4. 抽象类方法可以通过`private`、`protected`、`public`关键字修改（抽象方法不能是private），而接口中的方法只能使用`public`关键词修饰
> 5. 一个类只能继承一个抽象类，而一个类可以同时实现多个接口
> 6. 抽象类中可以有成员方法的实现代码，而接口中不可以有成员方法的实现代码



## 24. 什么是构造函数、什么是析构函数、作用是什么

> `构造函数(方法)`：是对象创建完成后第一个被对象自动调用的方法。它存在于每个声明的类中，是一个特殊的成员方法。作用是执行一些初始化的任务。PHP中使用`__construct()`声明构造方法，并且只能声明一个
>
> `析构函数(方法)`：作用和构造函数正好相反，是对象呗销毁之前最后一个被对象自动调用的方法。是PHP5中新添加的内容，作用是实现在销毁一个对象之前，执行一些特定的操作，例如关闭文件和释放内容等



## 25. 如果重载父类的方法，举例说明

> 重载，即覆盖父类的方法，也就是使用子类中得方法替换从父类中继承的方法，也叫作方法的重写
>
> 覆盖父类方法的关键是在子类中创建与父类中相同的方法，包括方法的名称、参数和返回值。PHP中只要求方法的名称相同即可



## 26. 常用的魔法函数有哪些

> PHP规定以双下划线`__`开头的方法都是保留为魔术方法，所以建议函数名最好不要用`__`开头，除非是为了重载已有的魔术方法
>
> `__construct():`构造函数，实例化类时自动调用
>
> `__destruct()：`析构函数，类对象使用结束时自动调用
>
> `__set()：`在给未定义的属性赋值的时候调用
>
> `__get()：`调用未定义的属性时候调用
>
> `__isset()：`使用`isset()`或`empty()`函数时候调用
>
> `__unset()：`使用`unset()`的时候调用
>
> `__sleep()：`使用`serialize()`序列化时候调用
>
> `__wakeup()：`使用`unserialize()`反序列化的时候调用
>
> `__call()：`调用一个不存在的方法的时候调用
>
> `__callStatic()：`调用一个不存在的静态方法时调用
>
> `__tiString()：`把对象转换为字符串的时候会调用，比如`echo`
>
> `__invoke()：`当尝试把对象当方法调用时调用
>
> `__set_state()：`当使用`var_export()`函数时候调用。接受一个数组参数
>
> `__clone()：`当使用`clone()`赋值一个对象的时候调用



## 27. $this、self、parent 这三个关键词分别代表什么，在哪些场合下使用

> `$this` 当前对象
>
> `self` 当前类
>
> `parent` 当前类的父类
>
> `$this` 在当前类中使用，使用`->`调用属性和方法
>
> `self` 也在当前类中使用，不过使用`::`调用
>
> `parent` 在当前类中使用，使用`::`调用当前类所继承父类的同名方法















